<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Verification System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Connection Status Indicator -->
    <div id="connectionStatus" class="connection-status connection-offline">
        Connecting...
    </div>

    <nav class="nav">
        <div class="nav-content">
            <div class="logo">Smart Verification System</div>
            <div class="nav-buttons">
                <button class="btn btn-primary" onclick="showHome()">Home</button>
                <button class="btn btn-secondary" onclick="showLogin()">Login</button>
                <button class="btn btn-danger" onclick="logout()" id="logoutBtn" style="display: none;">Logout</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Home Page -->
        <div id="homePage" class="card">
            <h1 style="color: #0254d8; text-align: center; margin-bottom: 1rem;">Welcome to Smart Verification System</h1>
            <p style="text-align: center; font-size: 1.1rem; margin-bottom: 2rem;">Secure RFID + Fingerprint Authentication System</p>
            
            <div class="role-selector">
                <div class="role-card" onclick="showRegistration('student')">
                    <h3>üë®‚Äçüéì Student</h3>
                    <p>Register for campus access</p>
                </div>
                <div class="role-card teacher" onclick="showRegistration('teacher')">
                    <h3>üë®‚Äçüè´ Teacher/Lecturer</h3>
                    <p>Register and manage system</p>
                </div>
            </div>
        </div>

        <!-- Registration Form -->
        <div id="registrationPage" class="card hidden">
            <h2 id="registrationTitle" style="color: #0254d8; margin-bottom: 1.5rem;">Registration</h2>
            
            <form id="registrationForm">
                <input type="hidden" id="userRole" name="role">
                
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>

                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <!-- Student Fields -->
                <div id="studentFields" class="hidden">
                    <div class="form-group">
                        <label for="matricNumber">Matriculation Number</label>
                        <input type="text" id="matricNumber" name="matricNumber" placeholder="e.g., CSC/2024/001">
                    </div>

                    <div class="form-group">
                        <label for="department">Department</label>
                        <select id="department" name="department" required>
                            <option value="">Select Department</option>
                            <option value="ACCOUNTING">ACCOUNTING</option>
                            <option value="ADULT EDUCATION">ADULT EDUCATION</option>
                            <option value="AGRIC EXTENSION AND RURAL DEVELOPMENT">AGRIC EXTENSION AND RURAL DEVELOPMENT</option>
                            <option value="AGRICULTURAL ECONOMICS">AGRICULTURAL ECONOMICS</option>
                            <option value="AGRICULTURAL ENGINEERING">AGRICULTURAL ENGINEERING</option>
                            <option value="ANIMAL SCIENCE">ANIMAL SCIENCE</option>
                            <option value="APPLIED GEOPHYSICS">APPLIED GEOPHYSICS</option>
                            <option value="ARCHITECTURE">ARCHITECTURE</option>
                            <option value="BIOCHEMISTRY">BIOCHEMISTRY</option>
                            <option value="BUILDING">BUILDING</option>
                            <option value="CHEMICAL ENGINEERING">CHEMICAL ENGINEERING</option>
                            <option value="CHEMISTRY">CHEMISTRY</option>
                            <option value="CIVIL ENGINEERING">CIVIL ENGINEERING</option>
                            <option value="COMPUTER ENGINEERING">COMPUTER ENGINEERING</option>
                            <option value="COMPUTER SCIENCE">COMPUTER SCIENCE</option>
                            <option value="COMPUTER SCIENCE WITH ECONOMICS">COMPUTER SCIENCE WITH ECONOMICS</option>
                            <option value="COMPUTER SCIENCE WITH ECONOMICS MATHEMATICS">COMPUTER SCIENCE WITH ECONOMICS MATHEMATICS</option>
                            <option value="COMPUTER SCIENCE WITH MATHEMATICS">COMPUTER SCIENCE WITH MATHEMATICS</option>
                            <option value="CROP PRODUCTION AND PROTECTION">CROP PRODUCTION AND PROTECTION</option>
                            <option value="DEMOGRAPHY AND SOCIAL STATISTICS">DEMOGRAPHY AND SOCIAL STATISTICS</option>
                            <option value="DENTISTRY AND DENTAL SURGERY">DENTISTRY AND DENTAL SURGERY</option>
                            <option value="DRAMA/DRAMATIC/PERFORMING ARTS">DRAMA/DRAMATIC/PERFORMING ARTS</option>
                            <option value="ECONOMICS">ECONOMICS</option>
                            <option value="EDUCATION AND BIOLOGY">EDUCATION AND BIOLOGY</option>
                            <option value="EDUCATION AND CHEMISTRY">EDUCATION AND CHEMISTRY</option>
                            <option value="EDUCATION AND ECONOMICS">EDUCATION AND ECONOMICS</option>
                            <option value="EDUCATION AND ENGLISH LANGUAGE">EDUCATION AND ENGLISH LANGUAGE</option>
                            <option value="EDUCATION AND FRENCH">EDUCATION AND FRENCH</option>
                            <option value="EDUCATION AND GEOGRAPHY">EDUCATION AND GEOGRAPHY</option>
                            <option value="EDUCATION AND HISTORY">EDUCATION AND HISTORY</option>
                            <option value="EDUCATION AND INTEGRATED SCIENCE">EDUCATION AND INTEGRATED SCIENCE</option>
                            <option value="EDUCATION AND LANGUAGE ARTS">EDUCATION AND LANGUAGE ARTS</option>
                            <option value="EDUCATION AND MATHEMATICS">EDUCATION AND MATHEMATICS</option>
                            <option value="EDUCATION AND MUSIC">EDUCATION AND MUSIC</option>
                            <option value="EDUCATION AND PHYSICS">EDUCATION AND PHYSICS</option>
                            <option value="EDUCATION AND POLITICAL SCIENCE">EDUCATION AND POLITICAL SCIENCE</option>
                            <option value="EDUCATION AND RELIGIOUS STUDIES">EDUCATION AND RELIGIOUS STUDIES</option>
                            <option value="EDUCATION AND SOCIAL STUDIES">EDUCATION AND SOCIAL STUDIES</option>
                            <option value="EDUCATION AND YORUBA">EDUCATION AND YORUBA</option>
                            <option value="EDUCATION FINE AND APPLIED ARTS">EDUCATION FINE AND APPLIED ARTS</option>
                            <option value="EDUCATIONAL MANAGEMENT">EDUCATIONAL MANAGEMENT</option>
                            <option value="ELECTRICAL/ELECTRONICS ENGINEERING">ELECTRICAL/ELECTRONICS ENGINEERING</option>
                            <option value="ENGINEERING PHYSICS">ENGINEERING PHYSICS</option>
                            <option value="ENGLISH LANGUAGE">ENGLISH LANGUAGE</option>
                            <option value="ENTREPRENEURSHIP">ENTREPRENEURSHIP</option>
                            <option value="ESTATE MANAGEMENT">ESTATE MANAGEMENT</option>
                            <option value="FAMILY NUTRITION AND CONSUMER SCIENCES">FAMILY NUTRITION AND CONSUMER SCIENCES</option>
                            <option value="FOOD SCIENCE AND TECHNOLOGY">FOOD SCIENCE AND TECHNOLOGY</option>
                            <option value="FRENCH">FRENCH</option>
                            <option value="GEOGRAPHY">GEOGRAPHY</option>
                            <option value="GEOLOGY">GEOLOGY</option>
                            <option value="GERMAN">GERMAN</option>
                            <option value="GUIDANCE AND COUNSELLING">GUIDANCE AND COUNSELLING</option>
                            <option value="HEALTH EDUCATION">HEALTH EDUCATION</option>
                            <option value="HISTORY">HISTORY</option>
                            <option value="HOME ECONOMICS AND EDUCATION">HOME ECONOMICS AND EDUCATION</option>
                            <option value="INDUSTRIAL CHEMISTRY">INDUSTRIAL CHEMISTRY</option>
                            <option value="INSURANCE AND ACTUARIAL SCIENCE">INSURANCE AND ACTUARIAL SCIENCE</option>
                            <option value="INTERNATIONAL RELATIONS">INTERNATIONAL RELATIONS</option>
                            <option value="LINGUISTICS">LINGUISTICS</option>
                            <option value="LINGUISTICS AND AFRICAN LANGUAGES">LINGUISTICS AND AFRICAN LANGUAGES</option>
                            <option value="LITERATURE IN ENGLISH">LITERATURE IN ENGLISH</option>
                            <option value="LOCAL GOVERNMENT STUDIES">LOCAL GOVERNMENT STUDIES</option>
                            <option value="MATHEMATICS">MATHEMATICS</option>
                            <option value="MECHANICAL ENGINEERING">MECHANICAL ENGINEERING</option>
                            <option value="MEDICAL REHABILITATION">MEDICAL REHABILITATION</option>
                            <option value="MEDICINE AND SURGERY">MEDICINE AND SURGERY</option>
                            <option value="METALLURGICAL AND MATERIAL ENGINEERING">METALLURGICAL AND MATERIAL ENGINEERING</option>
                            <option value="MICROBIOLOGY">MICROBIOLOGY</option>
                            <option value="MUSIC">MUSIC</option>
                            <option value="NURSING/NURSING SCEINCE">NURSING/NURSING SCEINCE</option>
                            <option value="NUTRITION AND CONSUMERS SERVICES">NUTRITION AND CONSUMERS SERVICES</option>
                            <option value="PHARMACY">PHARMACY</option>
                            <option value="PHILOSOPHY">PHILOSOPHY</option>
                            <option value="PHYSICAL AND HEALTH EDUCATION">PHYSICAL AND HEALTH EDUCATION</option>
                            <option value="PHYSICS">PHYSICS</option>
                            <option value="POLITICAL SCIENCE">POLITICAL SCIENCE</option>
                            <option value="PORTUGUESE">PORTUGUESE</option>
                            <option value="PSYCHOLOGY">PSYCHOLOGY</option>
                            <option value="PUBLIC ADMINISTRATION">PUBLIC ADMINISTRATION</option>
                            <option value="QUANTITY SURVEYING">QUANTITY SURVEYING</option>
                            <option value="RELIGIOUS STUDIES">RELIGIOUS STUDIES</option>
                            <option value="SOCIOLOGY AND ANTHROPLOGY">SOCIOLOGY AND ANTHROPLOGY</option>
                            <option value="SOIL SCIENCE">SOIL SCIENCE</option>
                            <option value="STATISTICS">STATISTICS</option>
                            <option value="SURVEYING AND GEOINFORMATICS">SURVEYING AND GEOINFORMATICS</option>
                            <option value="URBAN AND REGIONAL PLANNING">URBAN AND REGIONAL PLANNING</option>
                            <option value="YORUBA">YORUBA</option>
                            <option value="ZOOLOGY">ZOOLOGY</option>
                        </select>
                    </div>
                </div>

                <!-- Teacher Fields -->
                <div id="teacherFields" class="hidden">
                    <div class="form-group">
                        <label for="staffId">Staff ID</label>
                        <input type="text" id="staffId" name="staffId" placeholder="e.g., STAFF001">
                    </div>

                    <div class="form-group">
                        <label for="designation">Designation</label>
                        <select id="designation" name="designation">
                            <option value="">Select Designation</option>
                            <option value="lecturer">Lecturer</option>
                            <option value="professor">Professor</option>
                        </select>
                    </div>
                </div>

                <!-- RFID Card -->
                <div class="form-group">
                    <label for="cardUID">RFID Card UID</label>
                    <input type="text" id="cardUID" name="cardUID" placeholder="Enter RFID card UID" required>
                </div>

                <!-- Fingerprint -->
                <div class="form-group">
                    <label>Fingerprint Registration</label>
                    <div id="fingerprintStatus" class="fingerprint-status">
                        Ready to register fingerprint
                    </div>
                    <button type="button" class="btn btn-primary" id="fingerprintBtn" onclick="registerFingerprint()">üëÜ Register Fingerprint</button>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Complete Registration</button>
                    <button type="button" class="btn btn-secondary" onclick="showHome()">Cancel</button>
                </div>
            </form>
        </div>

        <!-- Login Page -->
        <div id="loginPage" class="card hidden">
            <h2 style="color: #0254d8; margin-bottom: 1.5rem;">Teacher/Lecturer Login</h2>
            
            <div style="margin-bottom: 2rem; padding: 15px; background-color: rgba(2, 84, 216, 0.1); border-radius: 10px; border-left: 4px solid #0254d8;">
                <h4 style="color: #0254d8; margin-bottom: 10px;">Sample Login Credentials:</h4>
                <p style="font-size: 14px; margin: 5px 0;"><strong>Email:</strong> john.smith@university.edu</p>
                <p style="font-size: 14px; margin: 5px 0;"><strong>Fingerprint:</strong> teacher_fingerprint_1</p>
                <p style="font-size: 14px; margin: 5px 0;"><strong>Or Email:</strong> sarah.johnson@university.edu</p>
                <p style="font-size: 14px; margin: 5px 0;"><strong>Fingerprint:</strong> teacher_fingerprint_2</p>
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email Address</label>
                    <input type="email" id="loginEmail" name="email" required>
                </div>

                <div class="form-group">
                    <label>Fingerprint Authentication</label>
                    <div id="loginFingerprintStatus" class="fingerprint-status">
                        Ready for fingerprint authentication
                    </div>
                    <button type="button" class="btn btn-primary" id="loginFingerprintBtn" onclick="authenticateFingerprint()">üëÜ Authenticate</button>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Login</button>
                    <button type="button" class="btn btn-secondary" onclick="showHome()">Cancel</button>
                </div>
            </form>
        </div>

        <!-- Teacher Dashboard -->
        <div id="teacherDashboard" class="hidden">
            <div class="card">
                <h2 style="color: #0254d8; margin-bottom: 1.5rem;">Teacher Dashboard</h2>
                
                <div style="margin-bottom: 2rem;">
                    <h4 id="welcomeMessage" style="color: #0254d8;">Welcome!</h4>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalStudents">0</div>
                        <div>Total Students</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="todayAttendance">0</div>
                        <div>Today's Attendance</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalAttendance">0</div>
                        <div>Total Records</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h3>Recent Attendance Records</h3>
                    <button class="btn btn-secondary" onclick="loadDashboardData()" style="font-size: 12px;">üîÑ Refresh</button>
                </div>
                
                <table class="attendance-table" id="attendanceTable">
                    <thead>
                        <tr>
                            <th>Date/Time</th>
                            <th>Student Name</th>
                            <th>ID Number</th>
                            <th>Faculty</th>
                            <th>Department</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceTableBody">
                        <tr>
                            <td colspan="6" style="text-align: center; color: #666;">Loading attendance data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Include separate JavaScript file -->
    <script src="app.js"></script>
</body>
</html>